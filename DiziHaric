using System;
using System.Collections;

namespace Menulu_VKI
{
    class Program
    {
        static ArrayList hastaAdlar = new ArrayList();
        static ArrayList hastaSoyadlar = new ArrayList();
        static ArrayList hastaTeshis = new ArrayList();

        static void Main(string[] args)
        {
            #region değişkenler
            string adi = "";
            string soyAdi = "";
            float boy = 0;
            float kilo = 0;
            float vki = 0;
            string teshis = "";
            bool devamMi = true;

            #endregion

            while (devamMi)
            {
                Menu(ref adi, ref soyAdi, ref boy, ref kilo, vki, teshis);
            }
        }

        #region MenuyeDon Metodu
        static void MenuyeDon()
        {
            Console.ForegroundColor = ConsoleColor.White;
            Console.WriteLine("Menüye dönmek için Enter tuşuna basın");
            Console.ReadLine();
            Console.Clear();
        }
        #endregion

        #region Menu Metodu
        static void Menu(ref string adi, ref string soyAdi, ref float boy, ref float kilo, float vki, string teshis)
        {
            Console.ForegroundColor = ConsoleColor.White;
            Console.WriteLine("Yapmak iştediğiniz işlemi seçiniz ve ardından ENTER'a basınız : \n(Y)Yeni Hasta :\n(H)Hasta Listesi : \n(C)Çıkış: ");
            string menuYanit = Console.ReadLine();

            if (menuYanit.ToUpper() == "Y")
            {
                VeriSorgu(out adi, out soyAdi, out boy, out kilo);
                #region Vki Hesaplama ve Teşhis

                vki = kilo / (boy * boy);

                if (vki <= 18.4)
                {
                    teshis = "Zayıf";
                    Console.ForegroundColor = ConsoleColor.Yellow;
                }
                else if (vki < 24.9 && vki >= 18.5)
                {
                    teshis = "Normal";
                    Console.ForegroundColor = ConsoleColor.Green;
                }
                else if (vki < 29.9 && vki >= 25)
                {
                    teshis = "Hafif Kilolu";
                    Console.ForegroundColor = ConsoleColor.Cyan;
                }
                else if (vki >= 30)
                {
                    teshis = "Obez";
                    Console.ForegroundColor = ConsoleColor.Red;
                    #endregion
                }

                ListeyeEkle(adi, soyAdi, boy, kilo, vki, teshis);
            }

            else if (menuYanit.ToUpper() == "H")

                for (int i = 0; i < hastaAdlar.Count; i++)
                {
                    if (hastaTeshis[i].ToString() == "Zayıf")
                    {
                        Console.ForegroundColor = ConsoleColor.Yellow;
                        
                    }
                    else if (hastaTeshis[i].ToString() == "Normal")
                    {
                        Console.ForegroundColor = ConsoleColor.Green;
                        
                    }
                    else if (hastaTeshis[i].ToString() == "Hafif Kilolu")
                    {
                        Console.ForegroundColor = ConsoleColor.Cyan;
                       
                    }
                    else if (hastaTeshis[i].ToString() == "Obez")
                    {
                        Console.ForegroundColor = ConsoleColor.Red;
                    }

                    Console.WriteLine("Ad: {0}, Soyad: {1}, Teşhis: {2}", hastaAdlar[i], hastaSoyadlar[i], hastaTeshis[i]);
                    
                }
                

            else if (menuYanit.ToUpper() == "C")
            {
                Environment.Exit(0);
            }

            MenuyeDon();
            #endregion
        }
        static void VeriSorgu(out string adi, out string soyAdi, out float boy, out float kilo) // hastadan bilgilerin alındığı ilk sorular //
        {
            Console.WriteLine("Hasta adı : ");
            adi = Console.ReadLine();
            Console.WriteLine("Hasta soyadı : ");
            soyAdi = Console.ReadLine();
            Console.WriteLine("Hasta boyu : ");
            boy = Convert.ToSingle(Console.ReadLine());
            Console.WriteLine("Hasta kilosu : ");
            kilo = Convert.ToSingle(Console.ReadLine());
        }

        #region CiktiYazdir Metodu
        static void ListeyeEkle(string adi, string soyAdi, float boy, float kilo, float vki, string teshis)

        {
            SonucYazdir(adi, soyAdi, boy, kilo, vki, teshis);
            
            hastaAdlar.Add(adi);
            hastaSoyadlar.Add(soyAdi);
            hastaTeshis.Add(teshis);
         
        }

        #region SonucYazdir Metodu
        static void SonucYazdir(string adi, string soyAdi, float boy, float kilo, float vki, string teshis)
        {
            Console.WriteLine("ÇIKTI: Hasta: " + adi + " " + soyAdi + " " + "boyu: " + boy + " , kilosu: " + kilo + " , VKI indeksi: " + vki + " Teşhis: " + teshis + "");
            
        }
        #endregion
    }
}
#endregion
